<%- include('../partials/meta') %>
<%- include('../partials/header') %>

<div class="floating-card">
  <h1>Add New Card</h1>
  <form method="POST" action="/flashcards" id="flashcardForm" novalidate>
    <div class="form-group <%= locals.errors && errors.prompt ? 'error' : '' %>">
      <label for="prompt">Prompt</label>
      <textarea id="prompt" name="prompt" required minlength="3" maxlength="500"><%= locals.flashcard ? flashcard.prompt : '' %></textarea>
      <% if (locals.errors && errors.prompt) { %>
        <span class="error-message"><%= errors.prompt %></span>
      <% } %>
      <small id="promptCharCount" class="char-count">0/500 characters</small>
    </div>

    <div class="form-group <%= locals.errors && errors.answer ? 'error' : '' %>">
      <label for="answer">Answer</label>
      <textarea id="answer" name="answer" required minlength="3" maxlength="500"><%= locals.flashcard ? flashcard.answer : '' %></textarea>
      <% if (locals.errors && errors.answer) { %>
        <span class="error-message"><%= errors.answer %></span>
      <% } %>
      <small id="answerCharCount" class="char-count">0/500 characters</small>
    </div>

    <div class="btn-container">
      <button type="button" class="cancel-btn">
        <a href="/">Cancel</a>
      </button>
      <button type="submit" class="submit-btn">Add</button>
    </div>
  </form>
</div>

<script src="/scripts/formValidation.js"></script>
<%- include('../partials/footer') %>